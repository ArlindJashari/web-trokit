---
---

<section
  class="bg-black text-white py-24 lg:py-32 font-sans selection:bg-brand/30 overflow-hidden experience-section"
>
  <div class="max-w-[1440px] mx-auto px-6 lg:px-16">
    {/* 1. Header Label (Top Left) */}
    <div class="mb-12 lg:mb-16 reveal-header">
      <span
        class="text-[14px] lg:text-[16px] text-[#4D4D4D] font-medium tracking-tight"
        >Pour les Futurs Partenaires</span
      >
    </div>

    {/* 2. Stat & Heading Group */}
    <div class="flex flex-col lg:items-end mb-24 lg:mb-40 lg:pr-12">
      <div class="w-full lg:max-w-3xl">
        <h2
          class="text-[120px] md:text-[180px] lg:text-[240px] font-medium leading-[0.75] tracking-[-0.05em] text-white flex items-baseline reveal-stat"
        >
          <span class="text-[0.6em] mr-1 lg:mr-2">&gt;</span>20
        </h2>

        <div class="mt-8 lg:mt-12 space-y-4 reveal-stat-text">
          <div class="flex flex-col lg:flex-row lg:items-center gap-2 lg:gap-6">
            <h3
              class="text-3xl md:text-4xl lg:text-[48px] font-normal leading-tight text-white whitespace-nowrap uppercase tracking-tighter"
            >
              CENTRES AUTOMOBILES
            </h3>
            <span class="text-[14px] lg:text-[16px] text-[#777777] font-normal"
              >(Y compris les concessionnaires)</span
            >
          </div>
          <p
            class="text-[#555555] text-lg lg:text-[22px] font-light leading-snug"
          >
            nous choisissent régulièrement comme <br class="hidden lg:block" />
            un partenaire d'exécution de confiance.
          </p>
        </div>
      </div>
    </div>

    {/* 3. Interactive Flow Row */}
    <div
      class="flex flex-col xl:flex-row items-center justify-between gap-12 mb-32 lg:mb-52"
    >
      <div
        class="flex flex-col lg:flex-row items-center w-full xl:w-auto gap-8 lg:gap-0"
      >
        {/* Overlapping Circles */}
        <div
          class="flex -space-x-12 lg:-space-x-16 shrink-0 items-center partner-circles-container"
        >
          {
            [
              {
                id: "03",
                label: "Centres Autos",
                duration: "15s",
                delay: "0s",
              },
              {
                id: "02",
                label: "Concessionnaires",
                duration: "18s",
                delay: "-5s",
              },
              {
                id: "15",
                label: "Studios de Detailing",
                duration: "20s",
                delay: "-10s",
              },
            ].map((item) => (
              <div class="relative group partner-circle cursor-pointer opacity-0 translate-y-20 p-[2px] rounded-full overflow-hidden">
                {/* Permanent Lightning Border Beam */}
                <div
                  class="absolute inset-[-100%] opacity-50 group-hover:opacity-100 transition-opacity duration-1000 blur-[3px]"
                  style={`background: conic-gradient(from 0deg, transparent 0deg, transparent 150deg, rgba(255,255,255,0.8) 180deg, transparent 210deg, transparent 360deg); animation: border-sweep ${item.duration} linear infinite; animation-delay: ${item.delay};`}
                />
                <span class="absolute -top-10 left-1/2 -translate-x-1/2 text-xs text-[#4D4D4D] font-medium transition-colors group-hover:text-brand z-20">
                  {item.id}
                </span>
                <div class="relative w-40 h-40 md:w-48 md:h-48 lg:w-56 lg:h-56 rounded-full border border-[#222222] bg-black flex items-center justify-center transition-all duration-300 z-10">
                  <span class="text-[12px] md:text-[14px] text-[#888888] group-hover:text-white font-normal tracking-tight px-4 text-center uppercase transition-colors">
                    {item.label}
                  </span>
                </div>
              </div>
            ))
          }
        </div>

        {/* The NDA Pill */}
        <div
          class="lg:ml-[-4rem] z-10 w-full lg:w-auto relative reveal-pill p-[2px] rounded-[100px] overflow-hidden group"
        >
          {/* Permanent Lightning Border Beam */}
          <div
            class="absolute inset-[-150%] opacity-50 group-hover:opacity-100 transition-opacity duration-1000 blur-[4px]"
            style="background: conic-gradient(from 0deg, transparent 0deg, transparent 150deg, rgba(255,255,255,0.8) 180deg, transparent 210deg, transparent 360deg); animation: border-sweep 25s linear infinite;"
          >
          </div>
          <div
            class="relative border border-[#222222] rounded-[100px] px-8 lg:px-16 py-10 lg:py-14 bg-black lg:max-w-xl xl:max-w-2xl shadow-2xl z-10 transition-all"
          >
            <p
              class="text-[16px] lg:text-[18px] xl:text-[20px] leading-snug text-center text-white font-normal tracking-tight whitespace-normal lg:whitespace-pre-line"
            >
              Nous opérons sous un système de confidentialité (NDA), ce qui
              signifie que nous ne divulguons pas nos partenaires — offrant
              ainsi une sécurité et une confidentialité accrues pour l'exécution
              de services haut de gamme.
            </p>
          </div>
        </div>
      </div>

      {/* CTA Button */}
      <div
        class="flex flex-col items-center gap-4 shrink-0 mt-8 xl:mt-0 reveal-cta"
      >
        <span class="text-xs text-[#4D4D4D] font-semibold tracking-widest"
          >+1</span
        >
        <div class="relative p-[3px] rounded-full overflow-hidden group">
          <div
            class="absolute inset-[-100%] opacity-50 group-hover:opacity-100 transition-opacity duration-1000 blur-[8px]"
            style="background: conic-gradient(from 0deg, transparent 0deg, transparent 150deg, #D4A76A 180deg, transparent 210deg, transparent 360deg); animation: border-sweep 10s linear infinite;"
          >
          </div>
          <button
            class="relative w-48 h-48 md:w-56 md:h-56 lg:w-64 lg:h-64 rounded-full bg-[#D4A76A] flex items-center justify-center text-center p-8 active:scale-95 transition-all duration-300 shadow-[0_0_40px_rgba(212,167,106,0.3)] hover:shadow-[0_0_60px_rgba(212,167,106,0.5)] z-10"
          >
            <span class="text-lg md:text-xl font-bold leading-[1.2] text-black"
              >Démarrer une <br /> Collaboration</span
            >
          </button>
        </div>
      </div>
    </div>

    {/* 4. Bottom Grid */}
    <div
      class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-40 items-start pt-16 lg:pt-24 border-t border-[#151515] reveal-bottom"
    >
      <h2
        class="text-3xl md:text-4xl lg:text-[50px] font-normal leading-[1.2] tracking-tighter text-white max-w-2xl uppercase"
      >
        Travailler avec intégrité et valoriser chaque partenariat.
      </h2>

      <div class="lg:pt-2">
        <p
          class="text-[#555555] text-lg lg:text-[22px] leading-relaxed font-light max-w-xl"
        >
          Appuyez-vous sur notre équipe professionnelle et faites confiance à
          nos 17 ans d'expertise automobile pour offrir une exécution de service
          haut de gamme à vos clients.
        </p>
      </div>
    </div>
  </div>
</section>

<style>
  section {
    background-color: #000000;
  }
  .partner-circle {
    transition: z-index 0s, transform 0.3s ease;
  }
  .partner-circle.is-active {
    z-index: 50 !important;
  }
  .vertical-text {
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }

  @keyframes border-sweep {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const circles = document.querySelectorAll(".partner-circle");

  circles.forEach((circle) => {
    circle.addEventListener("click", () => {
      circles.forEach((c) => c.classList.remove("is-active"));
      circle.classList.add("is-active");
    });

    circle.addEventListener("mouseenter", () => {
      circles.forEach((c) => ((c as HTMLElement).style.zIndex = "auto"));
      (circle as HTMLElement).style.zIndex = "50";
    });
  });

  // ENTRANCE ANIMATIONS
  const section = document.querySelector(".experience-section");
  if (section) {
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: section,
        start: "top 70%",
      },
    });

    tl.from(".reveal-header", {
      opacity: 0,
      y: 30,
      duration: 0.8,
      ease: "power3.out",
    })
      .from(
        ".reveal-stat",
        { opacity: 0, scale: 0.9, y: 50, duration: 1, ease: "power4.out" },
        "-=0.4"
      )
      .from(
        ".reveal-stat-text",
        { opacity: 0, y: 30, duration: 0.8, ease: "power3.out" },
        "-=0.6"
      )
      .to(
        ".partner-circle",
        { opacity: 1, y: 0, duration: 1, stagger: 0.15, ease: "power4.out" },
        "-=0.4"
      )
      .from(
        ".reveal-pill",
        { opacity: 0, scale: 0.95, y: 40, duration: 1, ease: "power3.out" },
        "-=0.8"
      )
      .from(
        ".reveal-cta",
        { opacity: 0, scale: 0.8, duration: 1, ease: "back.out(1.7)" },
        "-=0.6"
      )
      .from(
        ".reveal-bottom",
        { opacity: 0, y: 40, duration: 1, ease: "power3.out" },
        "-=0.6"
      );
  }
</script>
