---
import MainLayout from "../layouts/MainLayout.astro";
import { siteData } from "../data/siteContent";
import { Image } from "astro:assets";
import {
  ArrowLeft,
  Clock,
  ShieldCheck,
  MapPin,
  ShareNetwork,
  Sparkle,
  Car,
  Wrench,
} from "@phosphor-icons/react";

// In a real app, you'd fetch based on ID. For now, we'll design for the Lamborghini Hurac√°n
const project = siteData.projects[0]; // Featured Project
---

<MainLayout title={`${project.title} | Elite Detailing Portfolio`}>
  <section class="bg-black text-white pt-32 pb-24 overflow-hidden">
    <div class="max-w-[1440px] mx-auto px-6">
      {/* 1. Project Header Navigation */}
      <div
        class="flex justify-between items-center mb-16 py-8 border-b border-white/10"
      >
        <a
          href="/"
          class="group flex items-center gap-3 text-xs tracking-[0.4em] uppercase font-bold text-gray-500 hover:text-brand transition-all"
        >
          <ArrowLeft
            weight="bold"
            class="transition-transform group-hover:-translate-x-2"
          />
          Back to Projects
        </a>
        <div class="flex items-center gap-6">
          <ShareNetwork
            size={20}
            className="text-gray-500 hover:text-white cursor-pointer transition-colors"
          />
          <span class="text-[10px] tracking-[0.5em] text-white/30 uppercase"
            >ID: ELT-{project.id}0024</span
          >
        </div>
      </div>

      {/* 2. Main Title Section */}
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 mb-24 items-end">
        <div>
          <span
            class="text-xs tracking-[0.6em] text-brand font-black uppercase mb-6 block"
            >Project Case Study</span
          >
          <h1
            class="text-6xl md:text-8xl lg:text-[120px] font-display font-medium uppercase tracking-tighter leading-[0.8] mb-8"
          >
            {project.title.split(" ")[0]}
            <br />
            <span class="text-brand"
              >{project.title.split(" ").slice(1).join(" ")}</span
            >
          </h1>
        </div>
        <div class="lg:pb-4 border-l border-white/10 lg:pl-12">
          <p
            class="text-gray-400 text-lg md:text-xl font-light leading-relaxed max-w-md uppercase tracking-widest italic"
          >
            "A full technical restoration and protective ceramic application for
            an automotive icon."
          </p>
        </div>
      </div>

      {/* 3. Hero Visual Impact */}
      <div
        class="relative w-full aspect-[21/9] bg-neutral-900 overflow-hidden mb-24 reveal-project-hero"
      >
        <img
          src={project.image}
          alt={project.title}
          class="w-full h-full object-cover"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"
        >
        </div>

        {/* Specs Overlay - Industrial Design */}
        <div
          class="absolute bottom-12 left-12 grid grid-cols-2 md:grid-cols-4 gap-12 text-white"
        >
          <div class="flex flex-col gap-2">
            <span
              class="text-[10px] tracking-[0.4em] text-brand uppercase font-black"
              >Duration</span
            >
            <span class="text-xl font-display uppercase tracking-tight"
              >48 Hours</span
            >
          </div>
          <div class="flex flex-col gap-2">
            <span
              class="text-[10px] tracking-[0.4em] text-brand uppercase font-black"
              >Complexity</span
            >
            <span class="text-xl font-display uppercase tracking-tight"
              >Exotic Grade</span
            >
          </div>
          <div class="flex flex-col gap-2">
            <span
              class="text-[10px] tracking-[0.4em] text-brand uppercase font-black"
              >Service</span
            >
            <span class="text-xl font-display uppercase tracking-tight"
              >{project.category}</span
            >
          </div>
          <div class="flex flex-col gap-2">
            <span
              class="text-[10px] tracking-[0.4em] text-brand uppercase font-black"
              >Status</span
            >
            <span class="text-xl font-display uppercase tracking-tight"
              >Master Verified</span
            >
          </div>
        </div>
      </div>

      {/* 4. Technical Details Breakdown */}
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-24 mb-32 items-start">
        {/* Left: Project Narrative */}
        <div class="lg:col-span-7 space-y-16">
          <div class="space-y-8">
            <h2
              class="text-3xl font-display uppercase tracking-tight flex items-center gap-6"
            >
              The Mission
              <div class="h-[1px] flex-1 bg-white/10"></div>
            </h2>
            <div
              class="text-gray-400 font-sans leading-relaxed text-lg space-y-6"
            >
              <p>
                The {project.title} presented a unique challenge in paint restoration.
                Upon arrival, the factory finish showed significant swirling and
                environmental contamination that masked the deep metallic radiance
                of the bodywork.
              </p>
              <p>
                Our team executed a multi-stage decontamination process followed
                by a surgical 3-stage paint correction to remove 99% of surface
                defects, achieving the legendary "Elite Mirror Finish."
              </p>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div class="p-8 bg-neutral-900/50 border border-white/5 space-y-4">
              <Wrench className="text-brand" size={32} weight="light" />
              <h4 class="text-lg font-display uppercase tracking-widest">
                Correction Phase
              </h4>
              <p
                class="text-xs text-gray-500 uppercase tracking-widest leading-relaxed"
              >
                Rotary and dual-action stage polishing to level the clear coat
                and remove factory imperfections.
              </p>
            </div>
            <div class="p-8 bg-neutral-900/50 border border-white/5 space-y-4">
              <ShieldCheck className="text-brand" size={32} weight="light" />
              <h4 class="text-lg font-display uppercase tracking-widest">
                Protection Matrix
              </h4>
              <p
                class="text-xs text-gray-500 uppercase tracking-widest leading-relaxed"
              >
                Application of 9H high-solids nano-coating for 5-year
                hydrophobic shield and chemical resistance.
              </p>
            </div>
          </div>
        </div>

        {/* Right: Technical Specs Sidebar */}
        <div
          class="lg:col-span-5 space-y-12 bg-neutral-900 p-12 border-t border-brand/40"
        >
          <h3 class="text-2xl font-display uppercase tracking-[0.2em]">
            Full Spec Details
          </h3>
          <ul class="space-y-8">
            {
              [
                {
                  label: "Surface Preparation",
                  value: "Chemical & Mechanical Decon",
                },
                {
                  label: "Correction Fluid",
                  value: "Diminishing Abrasive Tech",
                },
                { label: "Coating System", value: "Quartz-Base Sio2 Liquid" },
                { label: "Wheel Treatment", value: "Heat-Resistant Ceramic" },
                { label: "Glass Shield", value: "PFC Anti-Static Layer" },
              ].map((spec) => (
                <li class="flex flex-col gap-2 border-b border-white/5 pb-6">
                  <span class="text-[9px] tracking-[0.4em] text-gray-500 uppercase font-black">
                    {spec.label}
                  </span>
                  <span class="text-sm tracking-[0.2em] text-white uppercase">
                    {spec.value}
                  </span>
                </li>
              ))
            }
          </ul>
        </div>
      </div>

      {/* 5. Results Gallery Grid */}
      <div class="space-y-12 mb-32">
        <div class="flex justify-between items-end">
          <h2 class="text-4xl font-display uppercase tracking-tighter">
            Visual Evidence
          </h2>
          <span class="text-xs tracking-[0.4em] text-gray-500 uppercase mb-2"
            >Macro Photography</span
          >
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="aspect-square bg-neutral-900 overflow-hidden group">
            <img
              src="https://images.unsplash.com/photo-1552519507-da3b142c6e3d?q=80&w=2670&auto=format&fit=crop"
              class="w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-all duration-700"
              alt="Detail 1"
            />
          </div>
          <div class="aspect-square bg-neutral-900 overflow-hidden group">
            <img
              src="https://images.unsplash.com/photo-1614200187524-dc4b892acf16?q=80&w=2670&auto=format&fit=crop"
              class="w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-all duration-700"
              alt="Detail 2"
            />
          </div>
          <div class="aspect-square bg-neutral-900 overflow-hidden group">
            <img
              src="https://images.unsplash.com/photo-1544636331-e26879cd4d9b?q=80&w=2574&auto=format&fit=crop"
              class="w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-all duration-700"
              alt="Detail 3"
            />
          </div>
        </div>
      </div>

      {/* 6. Footer CTA - The Next Masterpiece */}
      <div
        class="py-24 border-y border-white/10 flex flex-col items-center text-center space-y-10"
      >
        <span class="text-xs tracking-[0.6em] text-brand uppercase font-bold"
          >The Next Standard</span
        >
        <h2
          class="text-4xl md:text-6xl font-display uppercase tracking-tight max-w-2xl px-6"
        >
          READY TO RESTORE YOUR <span class="text-brand">CHASSIS 001?</span>
        </h2>
        <button
          class="px-16 py-6 bg-white text-black text-xs tracking-[0.4em] uppercase font-black hover:bg-brand transition-all shadow-[0_0_50px_rgba(255,255,255,0.1)]"
        >
          Request Project Analysis
        </button>
      </div>
    </div>
  </section>
</MainLayout>

<style>
  .font-display {
    font-family: "Outfit", sans-serif;
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  gsap.from(".reveal-project-hero", {
    opacity: 0,
    scale: 1.05,
    y: 50,
    duration: 1.5,
    ease: "power4.out",
  });

  gsap.utils.toArray("h2, h3, p, .p-8").forEach((elem: any) => {
    gsap.from(elem, {
      scrollTrigger: {
        trigger: elem,
        start: "top 85%",
      },
      opacity: 0,
      y: 30,
      duration: 1,
      ease: "power3.out",
    });
  });
</script>
